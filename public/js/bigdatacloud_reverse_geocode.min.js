/**
 * Minified by jsDelivr using Terser v5.14.1.
 * Original file: /gh/bigdatacloudapi/js-reverse-geocode-client@master/bigdatacloud_reverse_geocode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){var n=function(t,e,n){this.endpoint=e||"reverse-geocode-client",this.server=n||"api.bigdatacloud.net",this.localityLanguage=t||"en"};n.prototype={setApi:function(t){return this.api=t,this},getApi:function(){return this.api},getClientCoordinates:function(t){return!!t&&(navigator.geolocation&&navigator.geolocation.getCurrentPosition?navigator.geolocation.getCurrentPosition(function(t){return this.cb(t)}.bind({cb:t}),function(t){return console.error(t),this.cb(!1)}.bind({cb:t}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):t(!1))},getClientLocation:function(t,e){var n=this;return"function"!=typeof t||e?"function"==t&&(t=t()):(e=t,t=null),!!e&&(t||-1==t?void this.callApi(this.processLatLng(t),(function(t){e(t)}),(function(t){console.error(t),e(!1)})):this.getClientCoordinates((function(t){n.getClientLocation(t||-1,e)})))},processLatLng:function(t){var e={};return t&&-1!=t?(t.coords&&(t=t.coords),t.latitude,t.longitude,void 0!==t.latitude&&(e.latitude=parseFloat(parseFloat(t.latitude).toFixed(5))),void 0!==t.longitude&&(e.longitude=parseFloat(parseFloat(t.longitude).toFixed(5))),e):{}},callApi:function(t,e){var n=new XMLHttpRequest;n.open("GET","https://"+this.server+"/data/"+this.endpoint+"?"+this.prepareData(t),!0),n.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(200===this.status)try{e(JSON.parse(this.responseText))}catch(t){e(!1)}else try{var t=JSON.parse(this.responseText);console.error(t,this.status),e(!1)}catch(t){console.error(this.responseText,this.status),e(!1)}},n.send()},prepareData:function(t){var e=[],n=!1;if(t)for(var o in t){if("localityLanguage"===o)n=!0;e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]))}return n||e.push("localityLanguage="+this.localityLanguage),e=e.join("&")}},t.BDCReverseGeocode=n}(window,"undefined"==typeof jQuery||jQuery);
//# sourceMappingURL=/sm/1db0062424a5ac3dd7f5d68fe8f3016ec051cf9a0ca4d13893c8a751afc87a3c.map